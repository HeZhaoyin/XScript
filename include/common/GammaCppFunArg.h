//=============================================================
// GammaCppArg.h 
// 生成参数类型字符串
// 柯达昭
// 2012-08-09
//=====================================================================
#pragma once

#include "common/GammaCppTemplateHelp.h"
#include "common/GammaCppParser.h"

namespace Gamma
{
	template< typename TypeInfo CLASS_PARAM( 20 ) >
	inline void MakeTypeInfo( TypeInfo* aryInfo )
	{
		GetTypeInfo<Param0>( aryInfo[0] );
		GetTypeInfo<Param1>( aryInfo[1] );
		GetTypeInfo<Param2>( aryInfo[2] );
		GetTypeInfo<Param3>( aryInfo[3] );
		GetTypeInfo<Param4>( aryInfo[4] );
		GetTypeInfo<Param5>( aryInfo[5] );
		GetTypeInfo<Param6>( aryInfo[6] );
		GetTypeInfo<Param7>( aryInfo[7] );
		GetTypeInfo<Param8>( aryInfo[8] );
		GetTypeInfo<Param9>( aryInfo[9] );
		GetTypeInfo<Param10>( aryInfo[10] );
		GetTypeInfo<Param11>( aryInfo[11] );
		GetTypeInfo<Param12>( aryInfo[12] );
		GetTypeInfo<Param13>( aryInfo[13] );
		GetTypeInfo<Param14>( aryInfo[14] );
		GetTypeInfo<Param15>( aryInfo[15] );
		GetTypeInfo<Param16>( aryInfo[16] );
		GetTypeInfo<Param17>( aryInfo[17] );
		GetTypeInfo<Param18>( aryInfo[18] );
		GetTypeInfo<Param19>( aryInfo[19] );
	}

	template< typename TypeInfo CLASS_PARAM( 19 ) >
	inline void MakeTypeInfo( TypeInfo* aryInfo )
	{
		GetTypeInfo<Param0>( aryInfo[0] );
		GetTypeInfo<Param1>( aryInfo[1] );
		GetTypeInfo<Param2>( aryInfo[2] );
		GetTypeInfo<Param3>( aryInfo[3] );
		GetTypeInfo<Param4>( aryInfo[4] );
		GetTypeInfo<Param5>( aryInfo[5] );
		GetTypeInfo<Param6>( aryInfo[6] );
		GetTypeInfo<Param7>( aryInfo[7] );
		GetTypeInfo<Param8>( aryInfo[8] );
		GetTypeInfo<Param9>( aryInfo[9] );
		GetTypeInfo<Param10>( aryInfo[10] );
		GetTypeInfo<Param11>( aryInfo[11] );
		GetTypeInfo<Param12>( aryInfo[12] );
		GetTypeInfo<Param13>( aryInfo[13] );
		GetTypeInfo<Param14>( aryInfo[14] );
		GetTypeInfo<Param15>( aryInfo[15] );
		GetTypeInfo<Param16>( aryInfo[16] );
		GetTypeInfo<Param17>( aryInfo[17] );
		GetTypeInfo<Param18>( aryInfo[18] );
	}

	template< typename TypeInfo CLASS_PARAM( 18 ) >
	inline void MakeTypeInfo( TypeInfo* aryInfo )
	{
		GetTypeInfo<Param0>( aryInfo[0] );
		GetTypeInfo<Param1>( aryInfo[1] );
		GetTypeInfo<Param2>( aryInfo[2] );
		GetTypeInfo<Param3>( aryInfo[3] );
		GetTypeInfo<Param4>( aryInfo[4] );
		GetTypeInfo<Param5>( aryInfo[5] );
		GetTypeInfo<Param6>( aryInfo[6] );
		GetTypeInfo<Param7>( aryInfo[7] );
		GetTypeInfo<Param8>( aryInfo[8] );
		GetTypeInfo<Param9>( aryInfo[9] );
		GetTypeInfo<Param10>( aryInfo[10] );
		GetTypeInfo<Param11>( aryInfo[11] );
		GetTypeInfo<Param12>( aryInfo[12] );
		GetTypeInfo<Param13>( aryInfo[13] );
		GetTypeInfo<Param14>( aryInfo[14] );
		GetTypeInfo<Param15>( aryInfo[15] );
		GetTypeInfo<Param16>( aryInfo[16] );
		GetTypeInfo<Param17>( aryInfo[17] );
	}

	template< typename TypeInfo CLASS_PARAM( 17 ) >
	inline void MakeTypeInfo( TypeInfo* aryInfo )
	{
		GetTypeInfo<Param0>( aryInfo[0] );
		GetTypeInfo<Param1>( aryInfo[1] );
		GetTypeInfo<Param2>( aryInfo[2] );
		GetTypeInfo<Param3>( aryInfo[3] );
		GetTypeInfo<Param4>( aryInfo[4] );
		GetTypeInfo<Param5>( aryInfo[5] );
		GetTypeInfo<Param6>( aryInfo[6] );
		GetTypeInfo<Param7>( aryInfo[7] );
		GetTypeInfo<Param8>( aryInfo[8] );
		GetTypeInfo<Param9>( aryInfo[9] );
		GetTypeInfo<Param10>( aryInfo[10] );
		GetTypeInfo<Param11>( aryInfo[11] );
		GetTypeInfo<Param12>( aryInfo[12] );
		GetTypeInfo<Param13>( aryInfo[13] );
		GetTypeInfo<Param14>( aryInfo[14] );
		GetTypeInfo<Param15>( aryInfo[15] );
		GetTypeInfo<Param16>( aryInfo[16] );
	}

	template< typename TypeInfo CLASS_PARAM( 16 ) >
	inline void MakeTypeInfo( TypeInfo* aryInfo )
	{
		GetTypeInfo<Param0>( aryInfo[0] );
		GetTypeInfo<Param1>( aryInfo[1] );
		GetTypeInfo<Param2>( aryInfo[2] );
		GetTypeInfo<Param3>( aryInfo[3] );
		GetTypeInfo<Param4>( aryInfo[4] );
		GetTypeInfo<Param5>( aryInfo[5] );
		GetTypeInfo<Param6>( aryInfo[6] );
		GetTypeInfo<Param7>( aryInfo[7] );
		GetTypeInfo<Param8>( aryInfo[8] );
		GetTypeInfo<Param9>( aryInfo[9] );
		GetTypeInfo<Param10>( aryInfo[10] );
		GetTypeInfo<Param11>( aryInfo[11] );
		GetTypeInfo<Param12>( aryInfo[12] );
		GetTypeInfo<Param13>( aryInfo[13] );
		GetTypeInfo<Param14>( aryInfo[14] );
		GetTypeInfo<Param15>( aryInfo[15] );
	}

	template< typename TypeInfo CLASS_PARAM( 15 ) >
	inline void MakeTypeInfo( TypeInfo* aryInfo )
	{
		GetTypeInfo<Param0>( aryInfo[0] );
		GetTypeInfo<Param1>( aryInfo[1] );
		GetTypeInfo<Param2>( aryInfo[2] );
		GetTypeInfo<Param3>( aryInfo[3] );
		GetTypeInfo<Param4>( aryInfo[4] );
		GetTypeInfo<Param5>( aryInfo[5] );
		GetTypeInfo<Param6>( aryInfo[6] );
		GetTypeInfo<Param7>( aryInfo[7] );
		GetTypeInfo<Param8>( aryInfo[8] );
		GetTypeInfo<Param9>( aryInfo[9] );
		GetTypeInfo<Param10>( aryInfo[10] );
		GetTypeInfo<Param11>( aryInfo[11] );
		GetTypeInfo<Param12>( aryInfo[12] );
		GetTypeInfo<Param13>( aryInfo[13] );
		GetTypeInfo<Param14>( aryInfo[14] );
	}

	template< typename TypeInfo CLASS_PARAM( 14 ) >
	inline void MakeTypeInfo( TypeInfo* aryInfo )
	{
		GetTypeInfo<Param0>( aryInfo[0] );
		GetTypeInfo<Param1>( aryInfo[1] );
		GetTypeInfo<Param2>( aryInfo[2] );
		GetTypeInfo<Param3>( aryInfo[3] );
		GetTypeInfo<Param4>( aryInfo[4] );
		GetTypeInfo<Param5>( aryInfo[5] );
		GetTypeInfo<Param6>( aryInfo[6] );
		GetTypeInfo<Param7>( aryInfo[7] );
		GetTypeInfo<Param8>( aryInfo[8] );
		GetTypeInfo<Param9>( aryInfo[9] );
		GetTypeInfo<Param10>( aryInfo[10] );
		GetTypeInfo<Param11>( aryInfo[11] );
		GetTypeInfo<Param12>( aryInfo[12] );
		GetTypeInfo<Param13>( aryInfo[13] );
	}

	template< typename TypeInfo CLASS_PARAM( 13 ) >
	inline void MakeTypeInfo( TypeInfo* aryInfo )
	{
		GetTypeInfo<Param0>( aryInfo[0] );
		GetTypeInfo<Param1>( aryInfo[1] );
		GetTypeInfo<Param2>( aryInfo[2] );
		GetTypeInfo<Param3>( aryInfo[3] );
		GetTypeInfo<Param4>( aryInfo[4] );
		GetTypeInfo<Param5>( aryInfo[5] );
		GetTypeInfo<Param6>( aryInfo[6] );
		GetTypeInfo<Param7>( aryInfo[7] );
		GetTypeInfo<Param8>( aryInfo[8] );
		GetTypeInfo<Param9>( aryInfo[9] );
		GetTypeInfo<Param10>( aryInfo[10] );
		GetTypeInfo<Param11>( aryInfo[11] );
		GetTypeInfo<Param12>( aryInfo[12] );
	}

	template< typename TypeInfo CLASS_PARAM( 12 ) >
	inline void MakeTypeInfo( TypeInfo* aryInfo )
	{
		GetTypeInfo<Param0>( aryInfo[0] );
		GetTypeInfo<Param1>( aryInfo[1] );
		GetTypeInfo<Param2>( aryInfo[2] );
		GetTypeInfo<Param3>( aryInfo[3] );
		GetTypeInfo<Param4>( aryInfo[4] );
		GetTypeInfo<Param5>( aryInfo[5] );
		GetTypeInfo<Param6>( aryInfo[6] );
		GetTypeInfo<Param7>( aryInfo[7] );
		GetTypeInfo<Param8>( aryInfo[8] );
		GetTypeInfo<Param9>( aryInfo[9] );
		GetTypeInfo<Param10>( aryInfo[10] );
		GetTypeInfo<Param11>( aryInfo[11] );
	}

	template< typename TypeInfo CLASS_PARAM( 11 ) >
	inline void MakeTypeInfo( TypeInfo* aryInfo )
	{
		GetTypeInfo<Param0>( aryInfo[0] );
		GetTypeInfo<Param1>( aryInfo[1] );
		GetTypeInfo<Param2>( aryInfo[2] );
		GetTypeInfo<Param3>( aryInfo[3] );
		GetTypeInfo<Param4>( aryInfo[4] );
		GetTypeInfo<Param5>( aryInfo[5] );
		GetTypeInfo<Param6>( aryInfo[6] );
		GetTypeInfo<Param7>( aryInfo[7] );
		GetTypeInfo<Param8>( aryInfo[8] );
		GetTypeInfo<Param9>( aryInfo[9] );
		GetTypeInfo<Param10>( aryInfo[10] );
	}

	template< typename TypeInfo CLASS_PARAM( 10 ) >
	inline void MakeTypeInfo( TypeInfo* aryInfo )
	{
		GetTypeInfo<Param0>( aryInfo[0] );
		GetTypeInfo<Param1>( aryInfo[1] );
		GetTypeInfo<Param2>( aryInfo[2] );
		GetTypeInfo<Param3>( aryInfo[3] );
		GetTypeInfo<Param4>( aryInfo[4] );
		GetTypeInfo<Param5>( aryInfo[5] );
		GetTypeInfo<Param6>( aryInfo[6] );
		GetTypeInfo<Param7>( aryInfo[7] );
		GetTypeInfo<Param8>( aryInfo[8] );
		GetTypeInfo<Param9>( aryInfo[9] );
	}

	template< typename TypeInfo CLASS_PARAM( 9 ) >
	inline void MakeTypeInfo( TypeInfo* aryInfo )
	{
		GetTypeInfo<Param0>( aryInfo[0] );
		GetTypeInfo<Param1>( aryInfo[1] );
		GetTypeInfo<Param2>( aryInfo[2] );
		GetTypeInfo<Param3>( aryInfo[3] );
		GetTypeInfo<Param4>( aryInfo[4] );
		GetTypeInfo<Param5>( aryInfo[5] );
		GetTypeInfo<Param6>( aryInfo[6] );
		GetTypeInfo<Param7>( aryInfo[7] );
		GetTypeInfo<Param8>( aryInfo[8] );
	}

	template< typename TypeInfo CLASS_PARAM( 8 ) >
	inline void MakeTypeInfo( TypeInfo* aryInfo )
	{
		GetTypeInfo<Param0>( aryInfo[0] );
		GetTypeInfo<Param1>( aryInfo[1] );
		GetTypeInfo<Param2>( aryInfo[2] );
		GetTypeInfo<Param3>( aryInfo[3] );
		GetTypeInfo<Param4>( aryInfo[4] );
		GetTypeInfo<Param5>( aryInfo[5] );
		GetTypeInfo<Param6>( aryInfo[6] );
		GetTypeInfo<Param7>( aryInfo[7] );
	}

	template< typename TypeInfo CLASS_PARAM( 7 ) >
	inline void MakeTypeInfo( TypeInfo* aryInfo )
	{
		GetTypeInfo<Param0>( aryInfo[0] );
		GetTypeInfo<Param1>( aryInfo[1] );
		GetTypeInfo<Param2>( aryInfo[2] );
		GetTypeInfo<Param3>( aryInfo[3] );
		GetTypeInfo<Param4>( aryInfo[4] );
		GetTypeInfo<Param5>( aryInfo[5] );
		GetTypeInfo<Param6>( aryInfo[6] );
	}

	template< typename TypeInfo CLASS_PARAM( 6 ) >
	inline void MakeTypeInfo( TypeInfo* aryInfo )
	{
		GetTypeInfo<Param0>( aryInfo[0] );
		GetTypeInfo<Param1>( aryInfo[1] );
		GetTypeInfo<Param2>( aryInfo[2] );
		GetTypeInfo<Param3>( aryInfo[3] );
		GetTypeInfo<Param4>( aryInfo[4] );
		GetTypeInfo<Param5>( aryInfo[5] );
	}

	template< typename TypeInfo CLASS_PARAM( 5 ) >
	inline void MakeTypeInfo( TypeInfo* aryInfo )
	{
		GetTypeInfo<Param0>( aryInfo[0] );
		GetTypeInfo<Param1>( aryInfo[1] );
		GetTypeInfo<Param2>( aryInfo[2] );
		GetTypeInfo<Param3>( aryInfo[3] );
		GetTypeInfo<Param4>( aryInfo[4] );
	}

	template< typename TypeInfo CLASS_PARAM( 4 ) >
	inline void MakeTypeInfo( TypeInfo* aryInfo )
	{
		GetTypeInfo<Param0>( aryInfo[0] );
		GetTypeInfo<Param1>( aryInfo[1] );
		GetTypeInfo<Param2>( aryInfo[2] );
		GetTypeInfo<Param3>( aryInfo[3] );
	}

	template< typename TypeInfo CLASS_PARAM( 3 ) >
	inline void MakeTypeInfo( TypeInfo* aryInfo )
	{
		GetTypeInfo<Param0>( aryInfo[0] );
		GetTypeInfo<Param1>( aryInfo[1] );
		GetTypeInfo<Param2>( aryInfo[2] );
	}

	template< typename TypeInfo CLASS_PARAM( 2 ) >
	inline void MakeTypeInfo( TypeInfo* aryInfo )
	{
		GetTypeInfo<Param0>( aryInfo[0] );
		GetTypeInfo<Param1>( aryInfo[1] );
	}

	template< typename TypeInfo CLASS_PARAM( 1 ) >
	inline void MakeTypeInfo( TypeInfo* aryInfo )
	{
		GetTypeInfo<Param0>( aryInfo[0] );
	}

	template< typename TypeInfo CLASS_PARAM( 0 ) >
	inline void MakeTypeInfo( TypeInfo* aryInfo )
	{
	}

#define DEFINE_MAKR_FUN_ARG_CREATEER( n )\
	template< class ClassType, class RetType CLASS_PARAM( n ) >\
	inline STypeInfoArray MakeClassFunArg( RetType ( ClassType::*pFun )( PARAM( n ) ) )\
	{\
		STypeInfoArray aryInfo;\
		aryInfo.nSize = n + 2;\
		GetTypeInfo<ClassType*>( aryInfo.aryInfo[0] );\
		MakeTypeInfo<STypeInfo COMMA_PARAM( n )>( aryInfo.aryInfo + 1 );\
		GetTypeInfo<RetType>( aryInfo.aryInfo[n+1] );\
		return aryInfo;\
	}\
	template< class ClassType, class RetType CLASS_PARAM( n ) >\
	inline STypeInfoArray MakeClassFunArg( RetType ( ClassType::*pFun )( PARAM( n ) ) const )\
	{\
		STypeInfoArray aryInfo;\
		aryInfo.nSize = n + 2;\
		GetTypeInfo<ClassType*>( aryInfo.aryInfo[0] );\
		MakeTypeInfo<STypeInfo COMMA_PARAM( n )>( aryInfo.aryInfo + 1 );\
		GetTypeInfo<RetType>( aryInfo.aryInfo[n+1] );\
		return aryInfo;\
	}\
	template< class RetType CLASS_PARAM( n ) >\
	inline STypeInfoArray MakeFunArg( RetType ( *pFun )( PARAM( n ) ) )\
	{\
		STypeInfoArray aryInfo;\
		aryInfo.nSize = n + 1;\
		MakeTypeInfo<STypeInfo COMMA_PARAM( n )>( aryInfo.aryInfo );\
		GetTypeInfo<RetType>( aryInfo.aryInfo[n] );\
		return aryInfo;\
	}

	DEFINE_MAKR_FUN_ARG_CREATEER( 0 );
	DEFINE_MAKR_FUN_ARG_CREATEER( 1 );
	DEFINE_MAKR_FUN_ARG_CREATEER( 2 );
	DEFINE_MAKR_FUN_ARG_CREATEER( 3 );
	DEFINE_MAKR_FUN_ARG_CREATEER( 4 );
	DEFINE_MAKR_FUN_ARG_CREATEER( 5 );
	DEFINE_MAKR_FUN_ARG_CREATEER( 6 );
	DEFINE_MAKR_FUN_ARG_CREATEER( 7 );
	DEFINE_MAKR_FUN_ARG_CREATEER( 8 );
	DEFINE_MAKR_FUN_ARG_CREATEER( 9 );
	DEFINE_MAKR_FUN_ARG_CREATEER( 10 );
	DEFINE_MAKR_FUN_ARG_CREATEER( 11 );
	DEFINE_MAKR_FUN_ARG_CREATEER( 12 );
	DEFINE_MAKR_FUN_ARG_CREATEER( 13 );
	DEFINE_MAKR_FUN_ARG_CREATEER( 14 );
	DEFINE_MAKR_FUN_ARG_CREATEER( 15 );
	DEFINE_MAKR_FUN_ARG_CREATEER( 16 );
	DEFINE_MAKR_FUN_ARG_CREATEER( 17 );
	DEFINE_MAKR_FUN_ARG_CREATEER( 18 );
	DEFINE_MAKR_FUN_ARG_CREATEER( 19 );
	DEFINE_MAKR_FUN_ARG_CREATEER( 20 );
}
